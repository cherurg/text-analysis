ICO (Windows icon) — формат хранения файлов значков в Microsoft Windows.
Формат ICO аналогичен формату CUR (Windows cursors), предназначенному для хранения курсоров. Отличие состоит в численном значении одного поля в заголовочной структуре, и интерпретации значений двух других полей этой же структуры.
Один ICO-файл содержит один или несколько значков, размер и цветность каждого из которых задаётся отдельно. Размер значка может быть любым, но наиболее употребимы квадратные значки со стороной 16, 32 и 48 пикселей. Также используются значки с размером 24, 40, 60, 72, 92, 108, 128 пикселей.
Начиная с Windows 98/2000, формат поддерживает внедрение изображений в формате JPEG и PNG, но обычно данные значков хранятся в несжатом виде.
Значки бывают в естественном цвете (True Color, глубина цвета 24 бит), High Color (глубина цвета 16 бит), или с фиксированной палитрой (из двухсот пятидесяти шести, шестнадцати, или всего из двух цветов). В этом случае число, соответствующее каждому пикселу указывает не на цвет, а на номер цвета в палитре.
По своей структуре изображения в файле ICO наиболее близки к BMP, но принципиально отличаются от них наличием дополнительного изображения — маски, накладываемой на задний план при помощи операции побитового «И», что позволяет реализовать (полную) прозрачность рисунка. Последующее наложение основного изображения с помощью «исключающего ИЛИ» может даже дать «инверсные» пиксели в тех местах, где задний план не был замаскирован.
Кроме того, начиная с Windows XP поддерживаются 32-битные значки — каждому пикселу соответствует 24-бита цвета и 8-битный альфа-канал, позволяющий реализовать 256 уровней частичной прозрачности. С помощью альфа-канала можно отображать значки со сглаженными (размытыми) краями и тенью, сочетающимися с любым фоном; маска в этом случае игнорируется.


== Формат файла ==
Файл состоит из заголовка фиксированной длины, каталога информации о изображениях и непосредственно изображений.


=== Заголовок ===
Заголовок имеет размер 6 байт:


=== Каталог информации об изображениях ===
Представляет собой последовательные записи фиксированного размера (16 байт), следующие одна за другой. Количество записей определяется полем count заголовка.


== Примечания ==


== См. также ==
Значок
favicon
Глубина цвета


== Ссылки ==